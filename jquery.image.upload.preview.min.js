(function(){var h=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};(function(a){a.fn.uploadPreview=function(b){b=a.extend({types:["image/jpeg","image/png","image/gif","image/vnd.microsoft.icon"],callback:function(){}},b);this.each(function(){var c,f,g;g=a("<span>");f=a("<span>");c=a("<span>");a(this).wrap(g);a(this).before(f);a(this).after(c);return a(this).on("change",function(){var d,e;d=[];d.target=a(this);d.wrapper=g;d.before=f;d.after=c;return this.files&&
this.files[0]&&(e=this.files[0].type,0<=h.call(b.types,e))?(e=new FileReader,e.onload=function(a){var c;c=new Image;c.onload=function(){return b.callback(d)};c.src=a.target.result;return d.img=c},e.readAsDataURL(this.files[0])):b.callback(d)})});a(this).trigger("change");return this};return this})(jQuery)}).call(this);
